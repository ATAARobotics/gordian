<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=640" />

    <link rel="stylesheet" href="stylesheets/core.css" media="screen"/>
    <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)"/>
    <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>

    <script type="text/javascript" src="javascripts/modernizr.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $('#main_content').headsmart()
      })
    </script>
    <title>Gordian by Team4334</title>
  </head>

  <body>
    <a id="forkme_banner" href="https://github.com/Team4334/gordian">View on GitHub</a>
    <div class="shell">

      <header>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <h1>Gordian</h1>
            <h2>Alberta Tech Alliance's Scripting Language</h2>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
      </header>

      <section id="downloads">
        <span class="inner">
          <a href="https://github.com/Team4334/gordian/zipball/master" class="zip"><em>download</em> .ZIP</a><a href="https://github.com/Team4334/gordian/tarball/master" class="tgz"><em>download</em> .TGZ</a>
        </span>
      </section>


      <span class="banner-fix"></span>


      <section id="main_content">
        <h1>
<a name="gordian" class="anchor" href="#gordian"><span class="octicon octicon-link"></span></a>GORDIAN</h1>

<h1></h1>

<p>Lightweight portable scripting language interpreted and run inside of Java with minimal dependencies.</p>

<h2>
<a name="purpose" class="anchor" href="#purpose"><span class="octicon octicon-link"></span></a>Purpose</h2>

<p>Gordian is designed specifically for <a href="http://en.wikipedia.org/wiki/FIRST_Robotics_Competition">FRC</a> programming. Fortunately, it is useful for all kinds of different functions.</p>

<p>Gordian is made to be an easy-to-learn scripting language meant for simple programs with normal control flow. It does not natively support threading or objects, but it can be engineered to simulate them.</p>

<p>Gordian is well suited for:</p>

<ul>
<li>Very small linear scripts</li>
<li>Complex control flow with input and output</li>
<li>Interpreter of input (ie. configuration files)</li>
</ul><p>Gordian is modelled with inspiration from Python and Lua.</p>

<h2>
<a name="platform" class="anchor" href="#platform"><span class="octicon octicon-link"></span></a>Platform</h2>

<p>Gordian is designed to run on a minimum of Java ME 1.4 on the squawk VM, using the WPILibJ libraries.</p>

<ul>
<li>Gordian for FRC is available at <a href="https://github.com/Team4334/gordian">https://github.com/Team4334/gordian</a>
</li>
<li>Gordian for Java SE (or your choice of supported platform) is available at <a href="https://github.com/Team4334/gordianSE">https://github.com/Team4334/gordianSE</a>
</li>
</ul><h2>
<a name="project-goals" class="anchor" href="#project-goals"><span class="octicon octicon-link"></span></a>Project Goals</h2>

<p>Gordian is a project that aims to help innovate quickly without tinkering embedded code. Its goals are simple:</p>

<ul>
<li>Provide easy, safe syntax for any use</li>
<li>Avoid any feature creep and stay stable</li>
</ul><h2>
<a name="calling-from-java" class="anchor" href="#calling-from-java"><span class="octicon octicon-link"></span></a>Calling from Java</h2>

<p>Use <code>Gordian.run</code> to run your script in Java. For more access to variables and elements, create a <code>Scope</code> object in the same way as <code>Gordian.run</code>, and call <code>Scope.run(String)</code> to run your script. The <code>Scope</code> object has access to some useful internals of the language.</p>

<h1>
<a name="language-specification" class="anchor" href="#language-specification"><span class="octicon octicon-link"></span></a>Language specification</h1>

<p>Gordian follows a semi-strict, dynamic syntax that allows the user many options for scripts. Its syntax is designed to avoid as many possible parsing bugs and unpredictable behaviour.</p>

<h1>
<a name="basics" class="anchor" href="#basics"><span class="octicon octicon-link"></span></a>Basics</h1>

<p>Gordian separates instructions using line breaks (\n) and semi-colons (;). They are functionally equivalent. For this reason, you can use this notation:</p>

<pre><code>def foo(x)
    # instructions
end
</code></pre>

<p>Or this notation:</p>

<pre><code>def foo(x); # instructions; end
</code></pre>

<p>They are the same to Gordian.</p>

<h2>
<a name="data" class="anchor" href="#data"><span class="octicon octicon-link"></span></a>Data</h2>

<p>There are three main data types in Gordian - Numbers, Booleans and Strings. Each is declared as follows</p>

<pre><code># Number
13.23233
11

# Boolean
true
false

# String
"Hello World"
""
</code></pre>

<p>Unless you work behind the scenes, these are the only data types you will use.</p>

<h3>
<a name="adjustments" class="anchor" href="#adjustments"><span class="octicon octicon-link"></span></a>Adjustments</h3>

<p>To reverse a boolean, insert a <code>!</code> in front of it.</p>

<pre><code>!true # is false
!false # is true
!!!true # is false
</code></pre>

<p>To make a number negative, insert a <code>-</code> in front of it.</p>

<pre><code>-3 # is -3
--2 # is 2
</code></pre>

<h3>
<a name="calculations" class="anchor" href="#calculations"><span class="octicon octicon-link"></span></a>Calculations</h3>

<p>Calculations follow MDASM</p>

<blockquote>
<p>Multiplication
Division
Addition
Subtraction
Modulus
Left &gt; Right</p>
</blockquote>

<p>Parentheses <strong>are not supported</strong>. Enforce order with multiple steps!</p>

<pre><code>3  * 20 + 2.3 / 1 # is (3 * 20) + (2.3 / 1)
5 / 6 / 4 # is (5 / 6) / 4
</code></pre>

<h3>
<a name="expressions" class="anchor" href="#expressions"><span class="octicon octicon-link"></span></a>Expressions</h3>

<p>Expressions evaluate two elements.</p>

<pre><code># `==` and `!=` work on strings and numbers
"H" == "H" # is true
13 != 12.99 # is true

# `+` concatenates two strings together
"H" + "e" + "l" + "l" + "o" # is Hello

# `&gt;`, `&lt;`, `&gt;=`, `&lt;=` evaluate numbers
13 &gt; 12 # is true
12.5 &lt; 2 # is false
10 &gt;= 10 # is true
32 &lt;= 15 # is false

# `&amp;&amp;` and `||` evaluate booleans
true &amp;&amp; false # is false
true || false # is true
</code></pre>

<h3>
<a name="literals" class="anchor" href="#literals"><span class="octicon octicon-link"></span></a>Literals</h3>

<p>Literals are direct representations of data written in code.</p>

<p><strong>Numbers</strong></p>

<p>Numbers are inferred between floating point and integer. If floating point is needed (<code>x % 1 != 0</code>), the number will be represented as floating point. Otherwise it will be an integer.</p>

<p>You shouldn't worry about differences between floating point and integer. If you need flooring or ceiling arithmetic, create the functions yourself.</p>

<pre><code>3 # is functionally equivalent to 3.0
3.0 # is functionally equivalent to 3
</code></pre>

<p><strong>Booleans</strong></p>

<p>Boolean literal values are <code>true</code> or <code>false</code>. Case is ignored (so <code>True</code> is still true).</p>

<p><strong>Strings</strong></p>

<p>Strings are surrounded with quotation marks. Everything in between the quotation marks is regarded as part of the string.</p>

<p>Quotation marks within quotation marks are part of the string, but can remove spaces from the string.</p>

<pre><code>"Hello " World" # is Hello "World
"Hello "" World" # is Hello "" World
</code></pre>

<p>All spaces after odd (1st, 3rd, 5th, etc.) quotation marks are removed.</p>

<h2>
<a name="variables" class="anchor" href="#variables"><span class="octicon octicon-link"></span></a>Variables</h2>

<p>Variables store data under a key that can be accessed by the program. Variables have no type, meaning you can easily do this:</p>

<pre><code>x = 23
x = false
</code></pre>

<p>This code causes no errors.</p>

<h3>
<a name="declaration" class="anchor" href="#declaration"><span class="octicon octicon-link"></span></a>Declaration</h3>

<p>To declare a variable, use the equals sign. Type is inferred, and the value is interpreted in the current scope of the program.</p>

<pre><code>x = "Hello World"
</code></pre>

<h3>
<a name="creation--deletion" class="anchor" href="#creation--deletion"><span class="octicon octicon-link"></span></a>Creation / Deletion</h3>

<p>To create an "empty" value (a plain java <code>Object</code> with no discernible qualities), use the <code>make</code> keyword.</p>

<pre><code>make x
</code></pre>

<p>This reserves a space in the scope's memory, allowing you to later declare the variable and preserve its scope.</p>

<p>To delete a known variable, use the <code>del</code> keyword. This will only delete the <em>most local</em> version of the variable, so if two <code>x</code> existed (one being shadowed), only the more local one would be removed.</p>

<h2>
<a name="methods" class="anchor" href="#methods"><span class="octicon octicon-link"></span></a>Methods</h2>

<p>You can create <code>UserMethod</code> objects and add them in <code>Gordian.run</code>, and/or define methods inside of your script.</p>

<h3>
<a name="java" class="anchor" href="#java"><span class="octicon octicon-link"></span></a>Java</h3>

<p>Submit <code>UserMethod</code> objects in <code>Gordian.run</code> or <code>Scope</code> constructor. Here's an example print method</p>

<pre><code>new UserMethod("print") {
    public void run(Value[] arguments) {
        System.out.println(arguments[0].getValue());
    }
}
</code></pre>

<h3>
<a name="defined-methods" class="anchor" href="#defined-methods"><span class="octicon octicon-link"></span></a>Defined Methods</h3>

<p>Create methods in your code using the <code>def</code> keyword.</p>

<pre><code>def foo(x)
    # business code here
    # can access x
end
</code></pre>

<p>Remember that you cannot call a defined method until the method is defined. Define the method before using it!</p>

<h4>
<a name="returning" class="anchor" href="#returning"><span class="octicon octicon-link"></span></a>Returning</h4>

<p>Use the <code>return</code> keyword to return a value from a defined method.</p>

<pre><code>def spitBack(x)
    return x
end
</code></pre>

<p>You can treat <code>spitBack(x)</code> as a value now.</p>

<h2>
<a name="control-flow" class="anchor" href="#control-flow"><span class="octicon octicon-link"></span></a>Control flow</h2>

<p>All blocks are completed with the <code>end</code> keyword.</p>

<h3>
<a name="if" class="anchor" href="#if"><span class="octicon octicon-link"></span></a>If</h3>

<p>If runs if the condition is true</p>

<pre><code>if(1 == 1)
    # business code here
else if (2 != 1)
    # business code here
else
    # business code here
end
</code></pre>

<h3>
<a name="for" class="anchor" href="#for"><span class="octicon octicon-link"></span></a>For</h3>

<p>For loops over instructions for an amount of times. The number is evaluated only once, when starting the loop.</p>

<pre><code>for (5)
    # business code here
end
</code></pre>

<h3>
<a name="while" class="anchor" href="#while"><span class="octicon octicon-link"></span></a>While</h3>

<p>While loops until its argument is false</p>

<pre><code>x  = 0
while(x &lt; 100)
    x++
end
</code></pre>

<h2>
<a name="scope" class="anchor" href="#scope"><span class="octicon octicon-link"></span></a>Scope</h2>

<p>Every method, variable and returning method has a scope. It is only accessible inside of that scope.</p>

<pre><code>x = 0

def foo(x)
    # can't access original x, only argument x
    i = 12
    if(true)
        y = 13

        def foo2()
        end
    end
    # can't access y, foo2()
end

# can't access i, y, foo2()
</code></pre>
      </section>

      <footer>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <p>this project by <a href="https://github.com/Team4334">Team4334</a> can be found on <a href="https://github.com/Team4334/gordian">GitHub</a></p>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
        <p>Generated with <a href="http://pages.github.com">GitHub Pages</a> using Merlot</p>
        <span class="octocat"></span>
      </footer>

    </div>

    
  </body>
</html>
